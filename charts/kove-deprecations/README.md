# kove-deprecations
Prometheus metrics for Kubernetes API & schema deprecations, using [kove](https://github.com/cmacrae/kove).  
#
![Grafana Deprecations Example](https://raw.githubusercontent.com/cmacrae/kove/master/assets/grafana_deprecations_example.png)

This grants administrators automated visibility over the objects in their cluster that meet such criteria, which in turn allows for easier preparation of cluster upgrades and alignment with best practices.

Take a look at [the `policies/` directory](https://github.com/cmacrae/helm-charts/tree/master/charts/kove-deprecations/policies) (heavily based on the policies from [swade1987/deprek8ion](https://github.com/swade1987/deprek8ion)).

## Values

| Key        | Type   | Default                                                                                                                                                                                                  | Description                                                                                                                                                                                                                                                                                                     |
|------------|--------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| kove       | object | <pre>{<br>  "config":{<br>    "ignoreChildren":true,<br>    "policies":["/policies"]<br>  },<br>  "fullnameOverride":"kove-deprecations",<br>  "policyConfigMap":"kove-deprecations-policies"<br>}</pre> | Values to pass to the [kove](https://artifacthub.io/packages/helm/cmacrae/kove) dependancy Chart.                                                                                                                                                                                                                                 |
| namespace  | string | `"default"`                                                                                                                                                                                              | Namespace to deploy to                                                                                                                                                                                                                                                                                          |
| policyGlob | string | `"policies/**"`                                                                                                                                                                                          | [File glob](https://helm.sh/docs/chart_template_guide/accessing_files/#glob-patterns) pattern used to match paths to policies. This can be used to exclude any of the included policies that you don't want to evaluate. Pattern syntax can be found [here](https://pkg.go.dev/github.com/gobwas/glob#Compile). |
